<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>The Cartographically Imbricating Transformer - Eugene Y. Q. Shen</title>
    <link rel="canonical" href="https://eyqs.ca/tools/cit/">
    <link href="https://eyqs.ca/tools/cit/cit.css" rel="stylesheet">
  </head>

  <body>
    <div id="wrapper">
      <h1>cit v0.2</h1>
      <h2>The Cartographically Imbricating Transformer</h2>
      <a href="https://github.com/eyqs/cit">
        <img id="github" src="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png">
      </a>
      <div id="landing">
        <p>
          cit is a tool that lets you trace two lines over two images, then
          automatically generate an animation of one line morphing into the other.
        </p>
        <p>
          Select two appropriately cropped and resized background images to trace over.
          The first image will be displayed in its full resolution on the page,
          and the second image will be scaled to match the height and width of the first.
        </p>
        <form id="start">
          <label>
            <p>First image:</p>
            <input name="first" type="file" required="required">
          </label>
          <label>
            <p>Second image:</p>
            <input name="second" type="file" required="required">
          </label>
          <input type="submit" value="Start">
        </form>
      </div>
      <p id="nocanvas"></p>
      <div id="main">
        <ul id="controllist">
          <li data-form="general">General</li>
          <li data-form="new">New</li>
          <li data-form="animate">Animate</li>
          <li data-form="import">Import</li>
          <li data-form="lines">Lines</li>
        </ul>
        <div id="formlist">
          <div id="general">
            <h3>General Controls</h3>
            <p>
              Click to add a point, then click to add the corresponding point on the other image.
              Click and drag to pan. Shift-click to zoom in. Ctrl-click to zoom out.
            </p>
            <button id="undo">Undo last point</button>
            <button id="reset">Reset to original scale</button>
            <button id="export">Download as GIF</button>
            <button id="restart">Restart from scratch</button>
          </div>
          <form id="new">
            <h3>Create New Line</h3>
            <label>
              <p>Line name:</p>
              <input name="name" type="text" requird="required" value="Unnamed Line">
            </label>
            <label>
              <p>Line colour:</p>
              <input name="colour" type="color" required="required" value="#000000">
            </label>
            <label>
              <p>Line width (pixels):</p>
              <input name="width" type="number" required="required" value="5">
            </label>
            <input type="submit" value="Create">
          </form>
          <form id="animate">
            <h3>Animate Lines</h3>
            <label>
              <p>Animate back to original position:</p>
              <input name="back" type="checkbox">
            </label>
            <label>
              <p>Number of frames (60 fps):</p>
              <input name="number" type="number" required="required" value="120">
            </label>
            <label>
              <p>Number of frames to pause before animating back:</p>
              <input name="pause" type="number" required="required" value="0">
            </label>
            <input type="submit" value="Animate">
          </form>
          <form id="import">
            <h3>Import/Export as JSON</h3>
            <p>Copy the following to export, or paste your own data to import:</p>
            <textarea name="import" rows=20 cols=80 required="required"></textarea>
            <input type="submit" value="Import">
          </form>
          <div id="lines">
            <h3>Current Lines</h3>
            <ul id="linelist">
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div id="canvases">
      <canvas id="background"></canvas>
      <canvas id="canvas"></canvas>
    </div>
    <script src="https://eyqs.ca/tools/cit/CCapture.all.min.js"></script>
    <script src="https://eyqs.ca/tools/cit/cit.js"></script>
  </body>
</html>
